# Goose 설치 가이드

이 문서는 goose의 설치 방법과 시스템 요구사항을 설명합니다.

## 시스템 요구사항

### 지원 운영체제

| 운영체제 | 아키텍처 | 지원 여부 |
|---------|---------|----------|
| macOS | x86_64 (Intel) | O |
| macOS | ARM64 (Apple Silicon M1/M2/M3) | O |
| Linux | x86_64 | O |
| Linux | ARM64 | O |
| Windows | x86_64 | O |
| Windows (WSL) | x86_64 | O |
| Android (Termux) | ARM64 | 비공식 |

### 하드웨어 권장사양

| 항목 | 최소 사양 | 권장 사양 |
|-----|----------|----------|
| RAM | 4GB | 8GB 이상 |
| 디스크 공간 | 500MB | 2GB 이상 |
| CPU | 듀얼코어 | 쿼드코어 이상 |
| 네트워크 | 인터넷 연결 필수 | 안정적인 브로드밴드 |

> **참고**: goose는 LLM API를 사용하므로 인터넷 연결이 필수입니다. Ollama를 사용한 로컬 모델 실행 시 더 높은 RAM(16GB 이상)과 GPU가 권장됩니다.

### 소프트웨어 요구사항

#### 사용자 설치 시
- 터미널/명령 프롬프트
- curl (Linux/macOS) 또는 PowerShell (Windows)
- bzip2 (Linux/macOS, 압축 해제용)

#### 개발 환경 구축 시

| 도구 | 버전 | 용도 |
|-----|------|-----|
| Rust | 1.92+ | 백엔드 빌드 |
| Node.js | 24.0.0+ | UI 빌드 |
| npm | Node.js와 함께 설치 | 패키지 관리 |
| Docker | 20.10+ | 컨테이너 빌드 (선택) |
| Git | 최신 버전 | 소스 코드 관리 |

## 설치 방법

### 방법 1: 스크립트를 통한 설치 (권장)

가장 간단한 설치 방법입니다.

#### Linux / macOS

```bash
curl -fsSL https://github.com/block/goose/releases/download/stable/download_cli.sh | bash
```

#### Windows (PowerShell)

```powershell
Invoke-WebRequest -Uri "https://raw.githubusercontent.com/block/goose/releases/download/stable/download_cli.ps1" -OutFile "download_cli.ps1"
.\download_cli.ps1
```

#### 설치 옵션 (환경 변수)

| 환경 변수 | 설명 | 기본값 |
|----------|-----|-------|
| `GOOSE_BIN_DIR` | 설치 디렉토리 | `$HOME/.local/bin` |
| `GOOSE_VERSION` | 설치할 버전 (예: v1.21.0) | 최신 stable |
| `CANARY` | true로 설정 시 canary 버전 설치 | false |
| `CONFIGURE` | false로 설정 시 자동 설정 건너뛰기 | true |
| `GOOSE_PROVIDER` | 기본 LLM 프로바이더 | 대화형 선택 |
| `GOOSE_MODEL` | 기본 모델 | 프로바이더에 따름 |

**예시: 특정 버전 설치**
```bash
GOOSE_VERSION=v1.21.0 curl -fsSL https://github.com/block/goose/releases/download/stable/download_cli.sh | bash
```

### 방법 2: Homebrew (macOS)

#### 데스크톱 앱 설치
```bash
brew install --cask block-goose
```

#### CLI만 설치
```bash
brew install block-goose-cli
```

### 방법 3: 패키지 관리자

#### Debian/Ubuntu (.deb)
```bash
# GitHub Releases에서 .deb 파일 다운로드 후
sudo dpkg -i goose_*.deb
```

### 방법 4: Docker

#### 사전 빌드된 이미지 사용
```bash
# 이미지 다운로드
docker pull ghcr.io/block/goose:latest

# 버전 확인
docker run --rm ghcr.io/block/goose:latest --version

# 대화형 실행
docker run -it --rm \
  -e ANTHROPIC_API_KEY=$ANTHROPIC_API_KEY \
  -v $(pwd):/workspace \
  ghcr.io/block/goose:latest session
```

#### Docker 이미지 사양
| 항목 | 값 |
|-----|---|
| 기본 이미지 | debian:bookworm-slim |
| 이미지 크기 | ~340MB |
| 바이너리 크기 | ~32MB |
| 실행 사용자 | goose (UID 1000) |

### 방법 5: 소스에서 빌드

#### 1. 저장소 클론
```bash
git clone https://github.com/block/goose.git
cd goose
```

#### 2. Hermit 환경 활성화
```bash
source bin/activate-hermit
```

#### 3. 백엔드 빌드
```bash
cargo build --release
```

#### 4. 데스크톱 앱 빌드 (선택)
```bash
cd ui/desktop
npm install
mkdir -p src/bin
cp ../../target/release/goosed src/bin/
cp ../../target/release/goose src/bin/
npm run make
```

## Linux 배포판별 의존성

### Debian / Ubuntu
```bash
sudo apt update
sudo apt install -y \
  build-essential \
  libxcb1-dev \
  libxcb-util-dev \
  libssl-dev \
  libdbus-1-dev \
  protobuf-compiler \
  pkg-config \
  curl \
  git
```

### Arch / Manjaro
```bash
sudo pacman -S --needed \
  base-devel \
  libxcb \
  openssl \
  dbus \
  protobuf
```

### Fedora / RHEL / CentOS
```bash
sudo dnf install \
  gcc gcc-c++ make \
  libxcb-devel \
  openssl-devel \
  dbus-devel \
  protobuf-compiler
```

### openSUSE
```bash
sudo zypper install \
  gcc gcc-c++ make \
  libxcb-devel \
  libopenssl-devel \
  dbus-1-devel \
  protobuf-devel
```

### Android (Termux)
```bash
pkg install rust cmake protobuf clang build-essential
```

## 설치 후 설정

### PATH 설정

#### Linux / macOS (bash/zsh)
```bash
# ~/.bashrc 또는 ~/.zshrc에 추가
export PATH="$HOME/.local/bin:$PATH"

# 변경사항 적용
source ~/.bashrc  # 또는 source ~/.zshrc
```

#### Windows (PowerShell)
```powershell
# 사용자 PATH에 추가
$env:PATH += ";$env:USERPROFILE\.local\bin"

# 영구 설정 (관리자 권한 필요)
[Environment]::SetEnvironmentVariable("PATH", "$env:PATH;$env:USERPROFILE\.local\bin", "User")
```

### 초기 설정
```bash
goose configure
```

이 명령어로 다음을 설정할 수 있습니다:
- LLM 프로바이더 선택
- API 키 입력
- 기본 모델 선택

## 설정 파일 위치

| 운영체제 | 설정 파일 경로 |
|---------|--------------|
| macOS | `~/.config/goose/config.yaml` |
| Linux | `~/.config/goose/config.yaml` |
| Windows | `%APPDATA%\Block\goose\config\config.yaml` |

## LLM 프로바이더 설정

goose는 다양한 LLM 프로바이더를 지원합니다:

### 주요 프로바이더

| 프로바이더 | 환경 변수 | 무료 티어 |
|-----------|----------|----------|
| Anthropic (Claude) | `ANTHROPIC_API_KEY` | X |
| OpenAI | `OPENAI_API_KEY` | X |
| Google Gemini | `GOOGLE_API_KEY` | O |
| Groq | `GROQ_API_KEY` | O |
| Ollama (로컬) | 설정 불필요 | O (로컬 실행) |
| Azure OpenAI | `AZURE_OPENAI_API_KEY` | X |
| AWS Bedrock | AWS 자격 증명 | X |
| OpenRouter | `OPENROUTER_API_KEY` | X |

### 환경 변수 설정 예시

```bash
# Anthropic Claude 사용 시
export ANTHROPIC_API_KEY="your-api-key-here"

# OpenAI 사용 시
export OPENAI_API_KEY="your-api-key-here"

# Google Gemini 사용 시
export GOOGLE_API_KEY="your-api-key-here"
```

## 설치 확인

```bash
# 버전 확인
goose --version

# 도움말 보기
goose --help

# 세션 시작
goose session
```

## 문제 해결

### 일반적인 문제

#### "command not found: goose"
- PATH에 설치 디렉토리가 추가되었는지 확인
- 터미널을 재시작하거나 `source ~/.bashrc` 실행

#### macOS 권한 오류
```bash
# ~/.config 디렉토리 권한 확인
chmod 755 ~/.config
chmod -R 755 ~/.config/goose
```

#### Linux에서 libxcb 오류
```bash
# Debian/Ubuntu
sudo apt install libxcb1-dev libxcb-util-dev

# Fedora
sudo dnf install libxcb-devel
```

#### Windows에서 DLL 오류
필요한 DLL 파일이 goose.exe와 같은 디렉토리에 있는지 확인:
- `libstdc++-6.dll`
- `libgcc_s_seh-1.dll`
- `libwinpthread-1.dll`

### 로그 확인
```bash
# 디버그 모드로 실행
RUST_LOG=debug goose session
```

## 업데이트

### 스크립트로 설치한 경우
```bash
# 동일한 설치 스크립트 재실행
curl -fsSL https://github.com/block/goose/releases/download/stable/download_cli.sh | bash
```

### Homebrew로 설치한 경우
```bash
brew upgrade block-goose-cli
# 또는
brew upgrade --cask block-goose
```

## 제거

### 스크립트로 설치한 경우
```bash
rm -f ~/.local/bin/goose
rm -rf ~/.config/goose
```

### Homebrew로 설치한 경우
```bash
brew uninstall block-goose-cli
# 또는
brew uninstall --cask block-goose
```

### Docker 이미지 제거
```bash
docker rmi ghcr.io/block/goose:latest
```

## 추가 리소스

- [공식 문서](https://block.github.io/goose/)
- [GitHub 저장소](https://github.com/block/goose)
- [Discord 커뮤니티](https://discord.gg/block-opensource)
