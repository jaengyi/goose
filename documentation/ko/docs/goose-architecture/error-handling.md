---
title: 오류 처리
---
# goose의 오류 처리

오류 처리는 goose의 성능을 주도하는 핵심 부분입니다. LLM의 비결정성이 오류를 도입할 수 있는 많은 방법이 있으며, 이를 다시 복구할 수 있습니다. 일반적인 goose 세션에서는 모델이 직접 보고 수정할 수 있는 여러 에이전트 오류가 있을 것으로 예상되며, 완전히 백그라운드에서 처리될 수도 있습니다.

## 전통적인 오류

에이전트가 작동하는 동안 네트워크, 기반 모델의 가용성 등에 간헐적인 문제가 발생할 수 있습니다. 이러한 오류는 에이전트 API에서 호출자에게 오류로 발생하며, 호출자가 처리 방법을 결정할 수 있습니다. 일반적으로 [anyhow::Error][anyhow-error]로 이러한 오류를 처리합니다.

## 에이전트 오류

모든 것이 올바르게 작동하지만 모델 생성 자체가 어떻게든 오류를 일으키는 여러 유형의 오류가 있습니다. 알 수 없는 도구 이름 생성, 잘못된 파라미터 또는 도구 자체에서 오류가 발생하는 올바른 형식의 도구 호출과 같은 것들입니다. 이 모든 것은 LLM에 표시되어 복구를 시도할 수 있습니다.

오류 메시지는 어떤 면에서 프롬프팅입니다. LLM에게 복구 방법에 대한 지침을 제공합니다. [thiserror::Error][this-error]로 이러한 오류를 처리하고 컬렉션을 신중하게 유지합니다.

이러한 모든 경우를 다루기 위해 `ToolUse`와 `ToolResult`는 일반적으로 `Result<T, AgentError>`의 일부로 API를 통해 전달됩니다. `ToolUse`의 오류는 즉시 `ToolResult`의 오류가 되어 LLM에 다시 전달됩니다. 유효한 `ToolUse`가 여전히 오류 `ToolResult`가 될 수 있으며, 이것도 LLM에 다시 전달됩니다.

그런 다음 공급자는 에이전트 오류를 다양한 API 사양에 유효한 메시지로 변환하는 것을 처리합니다.


[anyhow-error]: https://docs.rs/anyhow/latest/anyhow/
[this-error]: https://docs.rs/thiserror/latest/thiserror/
