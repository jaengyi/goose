---
title: goose 아키텍처
sidebar_position: 1
---

# goose 아키텍처

오픈 소스 AI 에이전트인 goose는 주로 텍스트 기반 대화형 인터페이스로 작동하는 대규모 언어 모델(LLM)의 기본 상호작용 프레임워크를 기반으로 합니다. 텍스트 입력을 처리하고 텍스트 출력을 생성합니다. 이 "텍스트 입력, 텍스트 출력" 접근 방식은 도구 통합으로 향상되어 AI 에이전트가 작업을 완료할 수 있게 하여 goose를 만들어냅니다.

## goose 구성요소
goose는 **인터페이스**, **에이전트**, 연결된 **[확장 기능](/docs/getting-started/using-extensions)** 세 가지 주요 구성요소를 사용하여 작동합니다.

* **인터페이스**: 사용자가 goose를 실행하는 데 사용하는 데스크톱 애플리케이션 또는 CLI입니다. 사용자로부터 입력을 수집하고 사용자에게 출력을 표시합니다.

* **에이전트**: 에이전트는 goose의 핵심 로직을 실행하고 대화형 루프를 관리합니다.

* **확장 기능**: 확장 기능은 에이전트가 사용할 특정 도구와 기능을 제공하는 구성요소입니다. 이러한 도구를 통해 goose는 명령 실행 및 파일 관리와 같은 작업을 수행할 수 있습니다.

일반적인 세션에서 인터페이스는 에이전트 인스턴스를 시작하고, 에이전트는 하나 이상의 확장 기능에 동시에 연결됩니다. 인터페이스는 다른 작업을 동시에 처리하기 위해 여러 에이전트를 만들 수도 있습니다. 확장 기능과 대화형 루프는 goose 기능의 중요한 부분입니다. 다음 섹션에서는 goose가 확장 기능에 연결하고 사용자 요청을 처리하는 방법을 설명합니다.

## 확장 기능과의 상호 운용성
[Model Context Protocol(MCP)](https://modelcontextprotocol.io/)은 데이터 소스와 AI 에이전트 간의 상호 운용성을 가능하게 하는 개방형 표준입니다. goose는 MCP를 활용하여 [MCP 시스템/서버](https://github.com/modelcontextprotocol/servers?tab=readme-ov-file#model-context-protocol-servers)에 연결합니다. goose에서 이러한 시스템/서버를 확장 기능이라고 합니다.


확장 기능은 도구를 통해 goose에 기능을 노출합니다. 도구는 확장 기능이 명령 실행이나 파일 작업 수행과 같은 특정 작업을 수행할 수 있게 하는 함수입니다. 예를 들어 Google Drive 확장 기능에는 문서 검색 도구가 포함되어 있습니다. 그 도구가 goose에게 해당 작업을 수행할 수 있는 능력을 부여합니다.


goose에는 상호작용을 향상시키도록 설계된 일련의 [내장 확장 기능](/docs/getting-started/using-extensions#built-in-extensions)이 함께 제공됩니다. 여기에는 개발, 웹 스크래핑, 자동화, 메모리 등을 위한 도구가 포함됩니다. goose는 [외부 확장 기능 연결](/docs/getting-started/using-extensions#adding-extensions) 또는 MCP 서버로 [사용자 정의 확장 기능 생성](/docs/tutorials/custom-extensions)도 지원합니다.

확장 기능 및 도구의 설계와 구현에 대해 자세히 알아보려면 [확장 기능 설계 가이드](/docs/goose-architecture/extensions-design#tools)를 참조하세요.

## 대화형 루프
![interactive loop](../assets/guides/interactive-loop.png)

위에 표시된 대화형 루프를 자세히 살펴보겠습니다.

1. **사용자 요청**: 프로세스는 사용자로부터 시작되고 끝납니다. goose에게 요청, 질문, 명령 또는 해결할 문제를 제공하면 흐름이 시작됩니다.

2. **공급자 채팅**: goose는 연결한 [LLM 공급자](/docs/getting-started/providers)에게 사용 가능한 도구 목록과 함께 요청을 보냅니다. 공급자가 이를 처리하고 필요한 경우 응답의 일부로 도구 호출을 생성합니다.

3. **모델 확장 기능 호출**: LLM은 도구 호출 요청을 생성할 수 있지만 실행할 수는 없습니다. 이때 goose가 개입합니다. goose는 JSON으로 형식화된 도구 호출을 가져와 실행하고 결과를 수집합니다.

4. **모델에 응답**: 도구 호출을 실행한 후 goose는 결과를 모델에 다시 보냅니다. 더 많은 확장 기능이 필요한 경우 해당 단계가 반복됩니다.

5. **컨텍스트 수정**: goose는 오래되거나 관련 없는 정보를 제거하여 LLM이 가장 중요한 정보에만 집중하도록 합니다. 이는 토큰 관리에 도움이 됩니다.

6. **모델 응답**: 모든 도구 호출이 완료되면 LLM은 최종 응답을 다시 보내고 사용자가 응답하면 루프를 다시 시작합니다.

## goose의 오류 처리

오류가 흐름을 중단시키는 대신 goose는 전통적인 오류와 실행 오류를 캡처하고 처리합니다. 잘못된 JSON, 누락된 도구 등의 오류는 도구 응답으로 모델에 다시 전송되어 LLM이 오류를 해결하고 계속하는 데 필요한 정보를 제공합니다.

goose가 오류를 처리하는 방법에 대한 자세한 내용은 [goose의 오류 처리](/docs/goose-architecture/error-handling) 가이드를 참조하세요.


## 컨텍스트 수정: 토큰 관리

goose는 무료이고 오픈 소스이지만 일반적으로 LLM 토큰 사용과 관련된 비용이 있습니다. 메시지, 도구 요청, 리소스, 파일 콘텐츠, 지침 등 모든 것이 토큰 사용을 위해 경쟁합니다. 이러한 비용 중 일부를 줄이는 데 컨텐츠 수정이 도움이 됩니다. 이를 지원하기 위해 수행되는 몇 가지 작업이 있습니다:
* goose는 더 빠르고 작은 LLM으로 요약합니다
* goose는 의미론적 검색 대신 모든 것을 포함합니다
* goose는 오래되거나 관련 없는 콘텐츠를 삭제하는 알고리즘을 사용합니다
* goose는 큰 파일을 다시 작성하는 대신 찾기 및 바꾸기를 사용하고, 시스템 파일을 건너뛰기 위해 ripgrep을 사용하며, 장황한 명령 출력을 요약합니다
