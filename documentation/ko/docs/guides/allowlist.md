---
sidebar_position: 90
title: goose 확장 기능 허용 목록
sidebar_label: 확장 기능 허용 목록
---

goose는 기본적으로 모든 MCP 서버를 설치할 수 있는 확장 가능한 프레임워크입니다. 그러나 어떤 MCP 서버를 확장 기능으로 설치할 수 있는지에 대해 더 엄격한 제어가 필요할 수 있습니다(예: 기업 환경).

이 가이드는 goose 데스크톱과 CLI에서 작동하는 안전한 확장 기능의 **허용 목록**을 만드는 방법을 설명합니다. 허용 목록을 사용하면 관리자가 goose 확장 기능으로 설치할 수 있는 MCP 서버를 제어할 수 있습니다. 활성화되면 goose는 목록에 있는 확장 기능만 설치하고 다른 모든 것은 차단합니다.

## 작동 방식

1. 허용 목록은 허용된 확장 기능 명령 목록을 포함하는 YAML 파일입니다.
2. goose는 `GOOSE_ALLOWLIST` 환경 변수로 지정된 URL에서 허용 목록을 가져옵니다.
3. 허용 목록은 처음 필요할 때 가져와서 캐시됩니다. goose를 다시 시작할 때마다 다시 가져옵니다.
4. 사용자가 확장 기능을 설치하려고 하면 goose는 MCP 서버의 설치 명령을 허용 목록과 비교합니다.
5. 명령이 허용 목록에 없으면 확장 기능 설치가 거부됩니다.

## 구성

### 1. 허용 목록 생성 및 배포

허용 목록은 다음 구조의 YAML 파일이어야 합니다:

```yaml
extensions:
  - id: extension-id-1
    command: command-name-1
  - id: extension-id-2
    command: command-name-2
  # ... 추가 확장 기능
```

#### 예시

이 예시에서는 Slack, GitHub, Jira 확장 기능만 설치할 수 있습니다:

```yaml
extensions:
  - id: slack
    command: uvx mcp_slack
  - id: github
    command: uvx mcp_github
  - id: jira
    command: uvx mcp_jira
```


허용 목록을 만든 후 URL에 배포해야 합니다.


### 2. 환경 변수 설정

`GOOSE_ALLOWLIST`라는 환경 변수를 만들고 값을 YAML 파일의 URL로 설정하세요:

```bash
export GOOSE_ALLOWLIST=https://example.com/goose-allowlist.yaml
```

이 export를 셸 구성 파일에 추가할 수도 있습니다(Mac에서는 `~/.bashrc` 또는 `~/.zshrc` 파일).

:::info
이 환경 변수가 설정되지 않으면 허용 목록 제한이 적용되지 않습니다. 제한이 없으면 모든 확장 기능을 설치할 수 있습니다.
:::


## 모범 사례

정확한 일치로 허용 목록을 효과적으로 사용하려면:

1. **명령 지정**: 허용하려는 정확한 명령 문자열을 정의하세요.
2. **전체 경로 포함**: 특정 경로에서만 명령을 허용하려면 허용 목록에 전체 경로를 포함하세요.
3. **정기적 감사**: 허용 목록을 자주 검토하여 의도한 명령만 포함되어 있는지 확인하세요.
4. **HTTPS 사용**: 중간자 공격을 방지하기 위해 허용 목록에 HTTPS URL을 사용하세요.
5. **편집 액세스 제한**: 권한이 있는 사용자만 허용 목록을 편집할 수 있도록 하세요.
6. **항목 검증**: 신뢰할 수 있는 명령만 포함되어 있는지 허용 목록을 주의 깊게 검토하세요.
7. **설치 모니터링**: 확장 기능 설치 중 거부된 명령을 확인하세요. 이는 악용 시도를 나타낼 수 있습니다.


## 문제 해결

확장 기능이 예상치 않게 거부되는 경우:

1. `GOOSE_ALLOWLIST` 환경 변수가 올바르게 설정되어 있는지 확인하세요.
2. 서버에서 허용 목록 파일에 액세스할 수 있는지 확인하세요.
3. 허용 목록 파일이 올바른 YAML 형식인지 확인하세요.
4. 허용 목록 가져오기 또는 파싱과 관련된 오류가 있는지 [서버 로그](/docs/guides/logs)를 확인하세요.
5. 확장 기능 설치의 명령이 허용 목록에 있는 것과 정확히 일치하는지 확인하세요.
